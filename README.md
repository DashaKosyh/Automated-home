Автоматизация дома с помощью Raspberry PI
==========
Автоматизация дома с помощью Raspberry PI 3, Node JS, Raspbian OS & ms-gpio.js

## Настройка

### Аппаратное обеспечение
1. Raspberry Pi 3 модели B, с картой памяти объемом не менее 16 ГБ, которая должна быть предварительно загружена с Raspbian OS. 
2. 2-канальный релейный модуль 5V 10A <br/>
<img title="5v 2 Channel Relay Switch" width="250" alt="Screenshot 5v 2 Channel Relay Switch" src="https://github.com/mayankmania/smarthome/raw/master/UIPics/relayswitch.jpg"/> <br/>
Релейный переключатель, показанный на рисунке выше, представляет собой двухканальный релейный модуль, с его помощью можно управлять только двумя электрическими устройствами.<br/>
3. Создание схемы, каждое устройство управляется набором контактов GPIO и каналом релейного переключения. В зависимости от количества электрических устройств, количество контактов GPIO должно быть подключено к каналу / входу на реле. Следующим шагом будет создание цепи между релейным выключателем и электрическим устройством, это можно сделать, продолжая пропускать ток под напряжением как на входе, так и на выходе, поступающем от релейного выключателя к электрическому устройству.
На приведенной ниже схеме показано соединение между Raspberry PI 3, релейным выключателем и электроприбором 
<br/>
<img title="Cicuit Diagram" alt="Cicuit Diagram" src="https://github.com/mayankmania/smarthome/blob/master/UIPics/circuit.png"/> <br/><img title="5v 2 Channel Relay Switch" alt="Screenshot 5v 2 Channel Relay Switch" src="https://github.com/mayankmania/smarthome/blob/master/UIPics/rs_2.jpg"/> <br/>
Пожалуйста, обратите внимание, как мы создали схему между ** релейным выключателем ** и ** электроприбором **. Вам необходимо убедиться, что ** провод под напряжением ** от вилки идет непосредственно к электрическому контакту ** Общего / среднего ** реле; и он выходит ** либо ** из ** Нормально подключенного **, либо ** Нормально разомкнутого ** электрического контакта, но не из обоих одновременно. Также ** нейтральный провод ** от вилки должен быть напрямую подключен к электроприбору.<br/>

##### PIN-код GPIO по умолчанию и сопоставление устройств
1. <b>Примечание</b>: При взаимодействии с PIN-кодом GPIO необходимо передавать PIN-код Raspberry Pi (платный / физический). Пожалуйста, смотрите [эту страницу](http://elinux.org/RPi_Low-level_peripherals) для получения более подробной информации.
2. Каждое устройство управляется определенным выводом GPIO, следовательно, настройка электрического устройства и сопоставление выводов должны быть выполнены заранее
3. Текущее приложение показывает демонстрационную версию, которая может работать с 4 устройствами, но ее можно расширить на большее количество устройств
4. Отображение контактов GPIO для 4 устройств приведено следующим образом:
 * Физический Pin-код 15 соответствует GPIO22 => вентилятор
 * Физический Pin-код 16 соответствует GPIO23 => лампа накаливания
 * Физический Pin-код 18 соответствует GPIO24 => стиральная машина
 * Физический Pin-код 19 сопоставляется с GPIO10 => Телевизор
 <br/><img title="GPIO Numbering" alt="GPIO Numbering" src="https://github.com/mayankmania/smarthome/blob/master/UIPics/pin_numbering.png"/> <br/>
Как показано на рисунке выше, мы всегда будем управлять GPIO, используя его физический номер, выделенный посередине кружком

### Программное обеспечение
1. Node.js 
2. MS-GPIO node module
3. HTML5/Bootstrap
4. Linux/Rasbian
5. Putty можно использовать для удаленного подключения терминального сеанса к Raspberry PI
6. Статический IP-адрес Raspberry PI: назначьте статический IP-адрес 192.168.0.7 устройству Raspberry PI. после этого к приложениюsmarthome можно получить доступ по фиксированному IP-адресу с любого устройства в локальной сети
 
### Права доступа
1. Права суперпользователя / root

## Запуск проекта
Ввести http://_ip устройства_:9000 в браузере. Представлен пользовательский интерфейс на основе HTML, который предоставляет список устройств с указанием их текущего состояния (запущено / остановлено). Теперь можно управлять каждым устройством, нажимая на кнопки воспроизведения и остановки.
<br/><br/>

**Демонстрация**
<br/></br>
<img title="D" alt="D" src="https://github.com/DashaKosyh/Automated-home/tree/4e6adb44b4d36748f1d5ab255690716b306fb682/readmepic/D.png"/>
